<section
  class="relative w-[95%] md:w-full h-screen flex items-center justify-center overflow-hidden"
>
  <!-- Form -->
  <form
    [formGroup]="loginForm"
    (ngSubmit)="submit()"
    class="relative z-10 w-full max-w-md p-8 rounded-3xl space-y-6 bg-white/20 backdrop-blur-lg border border-white/30 shadow-xl"
  >
    <h1 class="text-[30px] text-white font-[Pacifico] text-center">
      Register Now
    </h1>

    <!-- Email -->
    <p-floatlabel variant="on" class="block">
      <input
        pInputText
        id="email"
        type="email"
        formControlName="email"
        class="w-full border rounded-xl px-4 py-2 bg-white/20 text-white placeholder-white focus:outline-none focus:ring-2 focus:ring-teal-400"
        autocomplete="new-password"
      />
      <label for="email" class="text-white">Email</label>
    </p-floatlabel>
    @if(loginForm.get('email')?.touched && loginForm.get('email')?.invalid){
    <p-message severity="error"
      >Enter a valid email, must end with @gmail.com</p-message
    >
    }

    <!-- Password -->
    <p-floatlabel variant="on" class="block relative">
      <input
        pInputText
        id="password"
        [type]="type"
        formControlName="password"
        class="w-full border rounded-xl px-4 py-2 pr-12 bg-white/20 text-white placeholder-white focus:outline-none focus:ring-2 focus:ring-teal-400"
        autocomplete="new-password"
      />
      <label for="password" class="text-white">Password</label>

      <i
        class="absolute top-1/2 right-4 -translate-y-1/2 text-white cursor-pointer"
        (click)="type = type === 'password' ? 'text' : 'password'"
        (mousedown)="$event.preventDefault()"
      >
        @if(type === 'password'){<i class="fas fa-eye"></i>} @else {<i
          class="fas fa-eye-slash"
        ></i
        >}
      </i>
    </p-floatlabel>
    @if(loginForm.get('password')?.touched &&
    loginForm.get('password')?.invalid){
    <p-message severity="error"
      >must be at least 8 chars one capital letter, nums & special
      chars</p-message
    >
    }

    <!-- Submit Button -->
    <button
      type="submit"
      [disabled]="loading()"
      class="w-full py-3 rounded-xl text-white font-bold bg-teal-500 hover:bg-teal-700 transition-all duration-300 shadow-lg active:scale-105 disabled:opacity-50"
    >
      @if(loading()) {
      <div class="flex items-center justify-center gap-2">
        <p-progress-spinner
          strokeWidth="4"
          fill="transparent"
          animationDuration=".5s"
          [style]="{ width: '20px', height: '20px' }"
        />
        Loading...
      </div>
      } @else { Login }
    </button>
  </form>
</section>
