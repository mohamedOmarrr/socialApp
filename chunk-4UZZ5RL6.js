import{a as S}from"./chunk-KGH2FHVB.js";import{c as x}from"./chunk-7XTMY2RN.js";import{a as C,b as c,c as F,d as M,e as T,f as v,g as N,j as D,k as E,n as k,u as j,v as A,w as G,x as z,y as V}from"./chunk-P66PUL4X.js";import{T as L,ca as I,ea as P,fa as R}from"./chunk-VRRHNQBJ.js";import"./chunk-Q3UCUI45.js";import{Fb as h,Oa as r,Sb as b,Ua as g,Ub as a,Zb as y,_a as _,ia as w,nb as p,ob as u,tb as f,ub as o,vb as n,wb as m}from"./chunk-JGGDHNN7.js";var q=()=>({width:"20px",height:"20px"});function Z(e,t){e&1&&(o(0,"p-message",6),a(1,"Enter a valid email, must end with @gmail.com"),n())}function B(e,t){e&1&&m(0,"i",11)}function W(e,t){e&1&&m(0,"i",12)}function H(e,t){e&1&&(o(0,"p-message",6),a(1,"must be at least 8 chars one capital letter, nums & special chars"),n())}function J(e,t){e&1&&(o(0,"div",14),m(1,"p-progress-spinner",15),a(2," Loading... "),n()),e&2&&(r(),b(y(2,q)))}function K(e,t){e&1&&a(0," Login ")}var $=class e{constructor(t,d,i){this.log=t;this.router=d;this.messageService=i}errorMessage="";type="password";loading=w(!1);loginForm=new T({email:new v("",[c.required,c.pattern(/^[a-zA-Z0-9._%+-]+@(gmail|yahoo)\.(com)$/)]),password:new v("",[c.required,c.pattern(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/)])});submit(){this.loginForm.markAllAsTouched(),this.loginForm.valid&&(this.loading.set(!0),this.log.login(this.loginForm.value).subscribe({next:t=>{this.errorMessage="",this.router.navigate(["/home"]),this.loading.set(!1),this.messageService.add({severity:"success",summary:"Success Process",detail:"Login completed successfully"})},error:t=>{console.error("Login failed:",t),this.errorMessage=t.error.message,this.loading.set(!1),this.messageService.add({severity:"error",summary:"Login Failed",detail:this.errorMessage})}}))}static \u0275fac=function(d){return new(d||e)(g(S),g(x),g(L))};static \u0275cmp=_({type:e,selectors:[["app-login"]],decls:20,vars:7,consts:[[1,"relative","w-[95%]","md:w-full","m-auto","h-screen","flex","items-center","justify-center","overflow-hidden"],[1,"relative","z-10","w-full","max-w-md","p-8","rounded-3xl","space-y-6","bg-white/20","backdrop-blur-lg","border","border-white/30","shadow-xl",3,"ngSubmit","formGroup"],[1,"text-[30px]","text-white","font-[Pacifico]","text-center"],["variant","on",1,"block"],["pInputText","","id","email","type","email","formControlName","email","autocomplete","new-password",1,"w-full","border","rounded-xl","px-4","py-2","bg-white/20","text-white","placeholder-white","focus:outline-none","focus:ring-2","focus:ring-teal-400"],["for","email",1,"text-white"],["severity","error"],["variant","on",1,"block","relative"],["pInputText","","id","password","formControlName","password","autocomplete","new-password",1,"w-full","border","rounded-xl","px-4","py-2","pr-12","bg-white/20","text-white","placeholder-white","focus:outline-none","focus:ring-2","focus:ring-teal-400",3,"type"],["for","password",1,"text-white"],[1,"absolute","top-1/2","right-4","-translate-y-1/2","text-white","cursor-pointer",3,"click","mousedown"],[1,"fas","fa-eye"],[1,"fas","fa-eye-slash"],["type","submit",1,"w-full","py-3","rounded-xl","text-white","font-bold","bg-teal-500","hover:bg-teal-700","transition-all","duration-300","shadow-lg","active:scale-105","disabled:opacity-50",3,"disabled"],[1,"flex","items-center","justify-center","gap-2"],["strokeWidth","4","fill","transparent","animationDuration",".5s"]],template:function(d,i){if(d&1&&(o(0,"section",0)(1,"form",1),h("ngSubmit",function(){return i.submit()}),o(2,"h1",2),a(3," Register Now "),n(),o(4,"p-floatlabel",3),m(5,"input",4),o(6,"label",5),a(7,"Email"),n()(),p(8,Z,2,0,"p-message",6),o(9,"p-floatlabel",7),m(10,"input",8),o(11,"label",9),a(12,"Password"),n(),o(13,"i",10),h("click",function(){return i.type=i.type==="password"?"text":"password"})("mousedown",function(s){return s.preventDefault()}),p(14,B,1,0,"i",11)(15,W,1,0,"i",12),n()(),p(16,H,2,0,"p-message",6),o(17,"button",13),p(18,J,3,3,"div",14)(19,K,1,0),n()()()),d&2){let l,s;r(),f("formGroup",i.loginForm),r(7),u((l=i.loginForm.get("email"))!=null&&l.touched&&((l=i.loginForm.get("email"))!=null&&l.invalid)?8:-1),r(2),f("type",i.type),r(4),u(i.type==="password"?14:15),r(2),u((s=i.loginForm.get("password"))!=null&&s.touched&&((s=i.loginForm.get("password"))!=null&&s.invalid)?16:-1),r(),f("disabled",i.loading()),r(),u(i.loading()?18:19)}},dependencies:[k,N,C,F,M,D,E,j,V,z,R,P,G,A,I],encapsulation:2})};export{$ as Login};
