import{A as c,q as s,s as g,z as u}from"./chunk-6GFB3MSO.js";import{Q as l,U as a,a as m,b as d,ia as r,s as i}from"./chunk-ZW4H5ID3.js";var f=class n{constructor(o,t){this.http=o;this.log=t}userImg=r("");showUploadForm=r(!1);createForm=r(!1);uploadPersonalPhoto(o){let t=this.log.getToken(),e=new s(t?{token:t}:{});return this.http.put("https://linked-posts.routemisr.com/users/upload-photo",o,{headers:e})}getUserInfo(){let o=this.log.getToken(),t=new s(o?{token:o}:{});return this.http.get("https://linked-posts.routemisr.com/users/profile-data",{headers:t}).pipe(i(e=>({id:e.user._id,username:e.user.name,mail:e.user.email,date:e.user.dateOfBirth,gender:e.user.gender,image:e.user.photo,startIn:e.user.createdAt})))}getPersonalPosts(o){let t=this.log.getToken(),e=new s(t?{token:t}:{});return this.http.get(`${u.apiUrl}users/${o}/posts`,{headers:e}).pipe(i(p=>d(m({},p),{posts:[...p.posts??[]].reverse()})))}static \u0275fac=function(t){return new(t||n)(a(g),a(c))};static \u0275prov=l({token:n,factory:n.\u0275fac,providedIn:"root"})};export{f as a};
